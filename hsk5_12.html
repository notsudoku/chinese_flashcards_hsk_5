<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∏—Ç–∞–π—Å–∫–∏–µ —Ñ–ª—ç—à–∫–∞—Ä—Ç–æ—á–∫–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 600px;
            text-align: center;
        }

        .header {
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .counter {
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            display: inline-block;
            margin-bottom: 20px;
        }

        .card-container {
            perspective: 1000px;
            margin: 40px 0;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card {
            width: 350px;
            height: 280px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s ease;
            cursor: pointer;
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: box-shadow 0.3s ease;
            padding: 20px;
        }

        .card:hover .card-face {
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .card-front {
            background: white;
            color: #333;
        }

        .card-back {
            background: #4a90e2;
            color: #ffd700;
            transform: rotateY(180deg);
        }

        .chinese-character {
            font-size: 5rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .pinyin {
            font-size: 1.8rem;
            margin-bottom: 15px;
            font-style: italic;
            opacity: 0.9;
        }

        .translation {
            font-size: 1.4rem;
            font-weight: bold;
            line-height: 1.4;
            margin-bottom: 10px;
        }

        .collocations {
            font-size: 0.9rem;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 215, 0, 0.3);
            line-height: 1.4;
            opacity: 0.9;
            white-space: pre-line;
            max-height: 120px;
            overflow-y: auto;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: #4a90e2;
            color: white;
        }

        .btn-success {
            background: #5cb85c;
            color: white;
        }

        .btn-warning {
            background: #f0ad4e;
            color: white;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-top: 20px;
        }

        .completion-screen {
            display: none;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }

        .completion-screen h2 {
            color: #4a90e2;
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .completion-screen p {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 30px;
        }

        .emoji {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .flip-instruction {
            color: rgba(255,255,255,0.8);
            margin-top: 15px;
            font-style: italic;
            font-size: 0.9rem;
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 2rem;
            }

            .card {
                width: 300px;
                height: 250px;
            }

            .chinese-character {
                font-size: 4rem;
            }

            .pinyin {
                font-size: 1.5rem;
            }

            .translation {
                font-size: 1.2rem;
            }

            .controls {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 200px;
            }

            .navigation {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìö –ö–∏—Ç–∞–π—Å–∫–∏–µ —Ñ–ª—ç—à–∫–∞—Ä—Ç–æ—á–∫–∏</h1>
            <div class="counter">
                <span id="counter">–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –∏–∑ 47</span>
            </div>
        </div>

        <div class="card-container">
            <div class="card" id="flashcard">
                <div class="card-face card-front">
                    <div class="chinese-character" id="character">Áî®Êà∑</div>
                </div>
                <div class="card-face card-back">
                    <div class="pinyin" id="pinyin">y√≤ngh√π</div>
                    <div class="translation" id="translation">–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                    <div class="collocations" id="collocations"></div>
                </div>
            </div>
        </div>

        <div class="flip-instruction">
            –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã –ø–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å
        </div>

        <div class="controls">
            <button class="btn btn-warning" onclick="shuffleCards()">üîÄ –ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
            <button class="btn btn-success" onclick="markAsLearned()">‚úÖ –ó–∞–ø–æ–º–Ω–∏–ª</button>
        </div>

        <div class="navigation">
            <button class="btn btn-secondary" onclick="previousCard()">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
            <button class="btn btn-primary" onclick="nextCard()">–í–ø–µ—Ä–µ–¥ ‚û°Ô∏è</button>
        </div>

        <div class="completion-screen" id="completionScreen">
            <div class="emoji">üéâ</div>
            <h2>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
            <p>–í—ã –∏–∑—É—á–∏–ª–∏ –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏!</p>
            <button class="btn btn-primary" onclick="resetCards()">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
    </div>

    <script>
        const flashcardsData = [
            { character: 'Áî®Êà∑', pinyin: 'y√≤ngh√π', translation: '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' },
            { character: 'È¢†ÁêÉ', pinyin: 'diƒÅnqi√∫', translation: '–∂–æ–Ω–≥–ª–∏—Ä–æ–≤–∞—Ç—å –º—è—á–æ–º (–Ω–æ–≥–∞–º–∏)' },
            { character: 'ÊòéÊòü', pinyin: 'm√≠ngxƒ´ng', translation: '–∑–Ω–∞–º–µ–Ω–∏—Ç–æ—Å—Ç—å, –∑–≤–µ–∑–¥–∞' },
            { character: 'Áõ¥Êí≠', pinyin: 'zh√≠b≈ç', translation: '–ø—Ä—è–º–∞—è —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è, —Å—Ç—Ä–∏–º' },
            { character: 'ÂÆùË¥ù', pinyin: 'b«éob√®i', translation: '–¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ—Å—Ç—å, –º–∞–ª—ã—à; (–≤ e-commerce: —Ç–æ–≤–∞—Ä)' },
            { character: 'ÈÄó', pinyin: 'd√≤u', translation: '–∑–∞–±–∞–≤–ª—è—Ç—å, –¥—Ä–∞–∑–Ω–∏—Ç—å' },
            { character: 'ÂÆ£‰º†', pinyin: 'xuƒÅnchu√°n', translation: '–ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞, —Ä–µ–∫–ª–∞–º–∞, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ' },
            { character: 'ÊâãÁ¨î', pinyin: 'sh«íub«ê', translation: '—Å—Ç–∏–ª—å –ø–∏—Å—å–º–∞; –∫—Ä—É–ø–Ω–∞—è —Ä–∞–±–æ—Ç–∞/–≤–ª–æ–∂–µ–Ω–∏–µ' },
            { character: 'Êé®Âπø', pinyin: 'tuƒ´gu«éng', translation: '–ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å', collocations: 'Êé®ÂπøÊ±âËØ≠ÊôÆÈÄöËØù / Êñ∞ÊäÄÊúØ / ‰∫ßÂìÅ / ÁªèÈ™å\ntuƒ´gu«éng H√†ny«î P«ît≈çnghu√† / xƒ´n j√¨sh√π / ch«énp«ên / jƒ´ngy√†n\n–ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å –ø—É—Ç—É–Ω—Ö—É–∞ / –Ω–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ / –ø—Ä–æ–¥—É–∫—Ç—ã / –æ–ø—ã—Ç' },
            { character: 'Ê≥®ÂÜå', pinyin: 'zh√πc√®', translation: '—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è', collocations: 'Ê≥®ÂÜåÂÖ¨Âè∏ / ÈÇÆÁÆ± / ‰ºöÂëò\nzh√πc√® g≈çngsƒ´ / y√≥uxiƒÅng / hu√¨yu√°n\n–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é / –ø–æ—á—Ç—É / –∞–∫–∫–∞—É–Ω—Ç (—á–ª–µ–Ω—Å—Ç–≤–æ)' },
            { character: 'Âè¨ÂºÄ', pinyin: 'zh√†okƒÅi', translation: '—Å–æ–∑—ã–≤–∞—Ç—å, –ø—Ä–æ–≤–æ–¥–∏—Ç—å (—Å–æ–±—Ä–∞–Ω–∏–µ)', collocations: 'ÊåâÊó∂ / È°∫Âà© / ÊàêÂäüÔºàÂú∞ÔºâÂè¨ÂºÄ\n√†nsh√≠ / sh√πnl√¨ / ch√©ngg≈çng (de) zh√†okƒÅi\n—Å–æ–∑–≤–∞—Ç—å –≤–æ–≤—Ä–µ–º—è / —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–≤–∞—Ç—å' },
            { character: 'Âêà‰Ωú', pinyin: 'h√©zu√≤', translation: '—Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞—Ç—å', collocations: 'Âêà‰Ωú‰ºô‰º¥ / ÂÖ¨Âè∏ / Á≤æÁ•û\nh√©zu√≤ hu«íb√†n / g≈çngsƒ´ / jƒ´ngsh√©n\n–ø–∞—Ä—Ç–Ω—ë—Ä –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É / —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞—Ç—å —Å –∫–æ–º–ø–∞–Ω–∏–µ–π / –¥—É—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞' },
            { character: '‰ºô‰º¥', pinyin: 'hu«íb√†n', translation: '–ø–∞—Ä—Ç–Ω—ë—Ä' },
            { character: 'ÊÄªË£Å', pinyin: 'z«íngc√°i', translation: '–ø—Ä–µ–∑–∏–¥–µ–Ω—Ç –∫–æ–º–ø–∞–Ω–∏–∏, –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—ã–π –¥–∏—Ä–µ–∫—Ç–æ—Ä' },
            { character: 'ÂÆûÁé∞', pinyin: 'sh√≠xi√†n', translation: '–æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å, —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å' },
            { character: 'Ë¶ÜÁõñ', pinyin: 'f√πg√†i', translation: '–ø–æ–∫—Ä—ã–≤–∞—Ç—å, –æ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å' },
            { character: 'ÁßªÂä®', pinyin: 'y√≠d√≤ng', translation: '–ø–µ—Ä–µ–¥–≤–∏–≥–∞—Ç—å(—Å—è), –º–æ–±–∏–ª—å–Ω—ã–π' },
            { character: 'ÈÄö‰ø°', pinyin: 't≈çngx√¨n', translation: '—Å–≤—è–∑—å, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è' },
            { character: 'Â∫îÁî®', pinyin: 'y√¨ngy√≤ng', translation: '–ø—Ä–∏–º–µ–Ω—è—Ç—å, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ', collocations: 'ÊôÆÈÅç / Â§ßÈáèÔºàÂú∞ÔºâÂ∫îÁî®\np«îbi√†n / d√†li√†ng (de) y√¨ngy√≤ng\n—à–∏—Ä–æ–∫–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å / –º–∞—Å—Å–æ–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å' },
            { character: '‰ºÅ‰∏ö', pinyin: 'q«êy√®', translation: '–ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ', collocations: '‰∏ÄÂÆ∂‰ºÅ‰∏ö\nyƒ´ jiƒÅ q«êy√®\n–æ–¥–Ω–æ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ, –∫–æ–º–ø–∞–Ω–∏—è' },
            { character: 'Áß∞Èú∏', pinyin: 'chƒìngb√†', translation: '–≥–æ—Å–ø–æ–¥—Å—Ç–≤–æ–≤–∞—Ç—å, –¥–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å' },
            { character: 'ËÉåÊôØ', pinyin: 'b√®ij«êng', translation: '—Ñ–æ–Ω, –±—ç–∫–≥—Ä–∞—É–Ω–¥' },
            { character: 'È´òÁ∫ß', pinyin: 'gƒÅoj√≠', translation: '–≤—ã—Å—à–∏–π, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π' },
            { character: 'ÂâØ', pinyin: 'f√π', translation: '–∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å, –≤–∏—Ü–µ-' },
            { character: 'ÂºÄÂèë', pinyin: 'kƒÅifƒÅ', translation: '—Ä–∞–∑–≤–∏–≤–∞—Ç—å, –æ—Å–≤–∞–∏–≤–∞—Ç—å', collocations: 'ÂºÄÂèëÂá∫ÔºàÊù•Ôºâ/ ÊàêÂäü\nkƒÅifƒÅ ch≈´ (l√°i) / ch√©ngg≈çng\n—Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å (—á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ) / —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å' },
            { character: '‰∏≠ÂøÉ', pinyin: 'zh≈çngxƒ´n', translation: '—Ü–µ–Ω—Ç—Ä', collocations: 'ÂüéÂ∏Ç / ÊîøÊ≤ª / Â∑•‰Ωú / Á†îÂèë‰∏≠ÂøÉ\nch√©ngsh√¨ / zh√®ngzh√¨ / g≈çngzu√≤ / y√°nfƒÅ zh≈çngxƒ´n\n–≥–æ—Ä–æ–¥—Å–∫–æ–π —Ü–µ–Ω—Ç—Ä / –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä / —Ä–∞–±–æ—á–∏–π —Ü–µ–Ω—Ç—Ä / —Ü–µ–Ω—Ç—Ä –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–æ–∫' },
            { character: 'Áõ∏ÂÖ≥', pinyin: 'xiƒÅngguƒÅn', translation: '—Å–≤—è–∑–∞–Ω–Ω—ã–π' },
            { character: '‰∏öÂä°', pinyin: 'y√®w√π', translation: '–¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –±–∏–∑–Ω–µ—Å', collocations: '‰∏ÄÁ¨î / È°π‰∏öÂä°\nyƒ´ b«ê / xi√†ng y√®w√π\n–æ–¥–Ω–∞ —Å–¥–µ–ª–∫–∞ / –æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç –±–∏–∑–Ω–µ—Å–∞' },
            { character: 'Áé∞ÂÆû', pinyin: 'xi√†nsh√≠', translation: '—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å' },
            { character: '‰∏™‰∫∫', pinyin: 'g√®r√©n', translation: '–ª–∏—á–Ω—ã–π, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π' },
            { character: '‰ª•Âèä', pinyin: 'y«êj√≠', translation: '–∞ —Ç–∞–∫–∂–µ' },
            { character: 'Á®ãÂ∫¶', pinyin: 'ch√©ngd√π', translation: '—Å—Ç–µ–ø–µ–Ω—å, —É—Ä–æ–≤–µ–Ω—å' },
            { character: 'ÂèëËææ', pinyin: 'fƒÅd√°', translation: '—Ä–∞–∑–≤–∏—Ç—ã–π' },
            { character: 'ÂàõÊñ∞', pinyin: 'chu√†ngxƒ´n', translation: '–∏–Ω–Ω–æ–≤–∞—Ü–∏—è, –Ω–æ–≤–∞—Ç–æ—Ä—Å—Ç–≤–æ' },
            { character: 'È¢ÜÂØº', pinyin: 'l«êngd«éo', translation: '—Ä—É–∫–æ–≤–æ–¥–∏—Ç—å; —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ' },
            { character: 'Âú∞‰Ωç', pinyin: 'd√¨w√®i', translation: '–ø–æ–ª–æ–∂–µ–Ω–∏–µ, —Å—Ç–∞—Ç—É—Å' },
            { character: 'ÁªèËê•', pinyin: 'jƒ´ngy√≠ng', translation: '—É–ø—Ä–∞–≤–ª—è—Ç—å, –≤–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å' },
            { character: 'ÈîÄÂîÆ', pinyin: 'xiƒÅosh√≤u', translation: '–ø—Ä–æ–¥–∞–≤–∞—Ç—å, —Å–±—ã—Ç', collocations: 'ÈîÄÂîÆÂæó‚Ä¶ / ÂÄí‚Ä¶\nxiƒÅosh√≤u de‚Ä¶ / d√†o‚Ä¶\n–ø—Ä–æ–¥–∞–≤–∞—Ç—å—Å—è (—Ö–æ—Ä–æ—à–æ / –ø–ª–æ—Ö–æ)' },
            { character: 'ÈíàÂØπ', pinyin: 'zhƒìndu√¨', translation: '–±—ã—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –Ω–∞, –∫–∞—Å–∞—Ç—å—Å—è' },
            { character: 'ÂΩìÂú∞', pinyin: 'dƒÅngd√¨', translation: '–º–µ—Å—Ç–Ω—ã–π' },
            { character: '‰ª£Ë®Ä', pinyin: 'd√†iy√°n', translation: '–≤—ã—Å—Ç—É–ø–∞—Ç—å –æ—Ç –ª–∏—Ü–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å' },
            { character: '‰∏æÁùÄ', pinyin: 'j«îzhe', translation: '–¥–µ—Ä–∂–∞—Ç—å (–≤ —Ä—É–∫–∞—Ö –ø–æ–¥–Ω—è—Ç—ã–º)' },
            { character: 'ÊäÄÊúØ', pinyin: 'j√¨sh√π', translation: '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è' },
            { character: 'ÂÖ®ÁêÉ', pinyin: 'qu√°nqi√∫', translation: '–≤–µ—Å—å –º–∏—Ä, –≥–ª–æ–±–∞–ª—å–Ω—ã–π' },
            { character: 'Â§ßÊâãÁ¨î', pinyin: 'd√† sh«íub«ê', translation: '–∫—Ä—É–ø–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è/–º–∞—Å—à—Ç–∞–±–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è' },
            { character: 'Â∫ïÊ∞î', pinyin: 'd«êq√¨', translation: '—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —Ç–≤—ë—Ä–¥–æ—Å—Ç—å, –æ—Å–Ω–æ–≤–∞' },
            { character: 'Âø´ÈÄü', pinyin: 'ku√†is√π', translation: '–±—ã—Å—Ç—Ä—ã–π' },
            { character: 'ÊîøÊ≤ª', pinyin: 'zh√®ngzh√¨', translation: '–ø–æ–ª–∏—Ç–∏–∫–∞' }
        ];

        let currentCards = [...flashcardsData];
        let currentCardIndex = 0;
        let isFlipped = false;

        // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
        const flashcard = document.getElementById('flashcard');
        const character = document.getElementById('character');
        const pinyin = document.getElementById('pinyin');
        const translation = document.getElementById('translation');
        const collocations = document.getElementById('collocations');
        const counter = document.getElementById('counter');
        const completionScreen = document.getElementById('completionScreen');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            updateCard();
            updateCounter();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É
            flashcard.addEventListener('click', flipCard);
        }

        function updateCard() {
            if (currentCards.length === 0) {
                showCompletionScreen();
                return;
            }
            
            const currentCard = currentCards[currentCardIndex];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–∞—Ä—Ç–æ—á–∫–∏
            character.textContent = currentCard.character;
            pinyin.textContent = currentCard.pinyin;
            translation.textContent = currentCard.translation;
            
            // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–æ–ª–ª–æ–∫–∞—Ü–∏–∏
            if (currentCard.collocations) {
                collocations.textContent = currentCard.collocations;
                collocations.style.display = 'block';
            } else {
                collocations.style.display = 'none';
            }
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞
            resetFlip();
        }

        function resetFlip() {
            isFlipped = false;
            flashcard.classList.remove('is-flipped');
        }

        function flipCard(event) {
            event.stopPropagation();
            isFlipped = !isFlipped;
            
            if (isFlipped) {
                flashcard.classList.add('is-flipped');
            } else {
                flashcard.classList.remove('is-flipped');
            }
        }

        function updateCounter() {
            if (currentCards.length === 0) {
                counter.textContent = '–í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–∑—É—á–µ–Ω—ã!';
            } else {
                counter.textContent = `–ö–∞—Ä—Ç–æ—á–∫–∞ ${currentCardIndex + 1} –∏–∑ ${currentCards.length}`;
            }
        }

        function nextCard() {
            if (currentCards.length === 0) return;
            
            currentCardIndex = (currentCardIndex + 1) % currentCards.length;
            updateCard();
            updateCounter();
        }

        function previousCard() {
            if (currentCards.length === 0) return;
            
            currentCardIndex = (currentCardIndex - 1 + currentCards.length) % currentCards.length;
            updateCard();
            updateCounter();
        }

        function shuffleCards() {
            if (currentCards.length === 0) return;
            
            // –ê–ª–≥–æ—Ä–∏—Ç–º –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è –§–∏—à–µ—Ä–∞-–ô–µ—Ç—Å–∞
            for (let i = currentCards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentCards[i], currentCards[j]] = [currentCards[j], currentCards[i]];
            }
            
            currentCardIndex = 0;
            updateCard();
            updateCounter();
        }

        function markAsLearned() {
            if (currentCards.length === 0) return;
            
            // –£–¥–∞–ª—è–µ–º —Ç–µ–∫—É—â—É—é –∫–∞—Ä—Ç–æ—á–∫—É
            currentCards.splice(currentCardIndex, 1);
            
            // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –∏–Ω–¥–µ–∫—Å
            if (currentCardIndex >= currentCards.length) {
                currentCardIndex = 0;
            }
            
            updateCard();
            updateCounter();
        }

        function showCompletionScreen() {
            document.querySelector('.card-container').style.display = 'none';
            document.querySelector('.controls').style.display = 'none';
            document.querySelector('.navigation').style.display = 'none';
            document.querySelector('.flip-instruction').style.display = 'none';
            completionScreen.style.display = 'block';
        }

        function resetCards() {
            currentCards = [...flashcardsData];
            currentCardIndex = 0;
            
            document.querySelector('.card-container').style.display = 'flex';
            document.querySelector('.controls').style.display = 'flex';
            document.querySelector('.navigation').style.display = 'flex';
            document.querySelector('.flip-instruction').style.display = 'block';
            completionScreen.style.display = 'none';
            
            updateCard();
            updateCounter();
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        init();

        // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case 'ArrowLeft':
                    previousCard();
                    break;
                case 'ArrowRight':
                    nextCard();
                    break;
                case ' ':
                case 'Enter':
                    flipCard(event);
                    event.preventDefault();
                    break;
                case 'r':
                case 'R':
                    shuffleCards();
                    break;
                case 'l':
                case 'L':
                    markAsLearned();
                    break;
            }
        });
    </script>
</body>
</html>
